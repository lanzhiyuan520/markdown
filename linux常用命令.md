



## 					linux常用命令

#### 切换工作目录 : cd 目录名字

```linux
cd test    //切换到test目录  
cd /home   //也可以是绝对路径 
cd 		   //不填加参数默认切换用户家目录
```

#### 查看当前工作目录

```
pwd     //pwd命令来查看当前的工作目录
```

#### 查看当前目录下文件夹和文件

```
ls    //ls命令可以查看当前文件夹和文件  隐藏文件不会显示
    参数 ：
    	ls -a : 可以查看隐藏文件 通常是以点开头的
    	ls -R : 可以查看当前目录下包括子目录的文件
    	ls -F : 可以分辨文件夹还是文件"/"结尾都是文件夹
    	ls -l : 可以查看文件或文件夹的详细信息	
```

| 参数 | 简介                                    | 例子  |
| ---- | --------------------------------------- | ----- |
| -a   | 可以查看隐藏文件 通常是以点开头的       | ls -a |
| -R   | 可以查看当前目录下包括子目录的文件      | ls -R |
| -F   | 可以分辨文件夹还是文件"/"结尾都是文件夹 | ls -F |
| -l   | 可以查看文件或文件夹的详细信息          | ls -l |

#### 过滤输出列表

```
这个过滤器就是一个进行简单文本匹配的字符串。可以在要用的命令行参数之后添加这个过滤器
    ?:代表单个字符
        问号可用于过滤器字符串中替代任意位置的单个字符：比如java
    		可以这样写：ls -l ja?a   
    *:代表零个或多个字符:比如linux
    		可以这样写：ls -l lin*    //这样就会输出匹配到的文件夹或文件
```

| 参数  | 简介                                           | 例子           | 备注                                             |
| ----- | ---------------------------------------------- | -------------- | ------------------------------------------------ |
| ?     | 问号可用于过滤器字符串中替代任意位置的单个字符 | ls -l jav?a    | 比如查找java中a忘记的话可以是用？来替a去匹配查找 |
| *     | 代表零个或多个字符                             | ls -l ja*      | 这样就去查找ja开头的所有文件或文件夹             |
| [ab]  | 中括号表示特定位置上可能出现的两种字符:a或b    | ls -l t[ab]s   | 这样的话就查找tas或者tbs                         |
| [a-z] | 这个表示按字母范围去匹配                       | ls -l j[a-z]va | 去查找a-z范围之间符合条件的                      |

#### 创建文件

```
touch 文件名+后缀名    //touch命令可以穿件任意格式的文件
```

#### 复制文件

```
cp source destination //source为源对象  destination为目标对象
```

*当source和destination都是文件名的时候，cp命令将源文件复制成一个新的文件，并以destination命名，新的文件就像全新的文件一样，有新的修改时间*

*目标对象也可以是个文件夹比如绝对路径cp -i test.txt /home相对路径cd -i test.txt ./home*

| 参数 | 简介                              |           例子           | 备注                                                        |
| ---- | --------------------------------- | :----------------------: | ----------------------------------------------------------- |
| -i   | 强制shell询问是否需要覆盖已有文件 | cp -i test.txt test1.txt | 如果已经有了text1.text将会让你输入y/n输入y则覆盖输入n则取消 |
| -R   | 递归复制整个目录                  |    cp -R java/ java2     | 赋值一个新的java2目录包括里边的文件                         |

#### 移动文件或重命名文件

```
mv test.txt test1.txt  //这个命令会将test.txt重命名为test1.txt  只会影响文件名字不会影响时间
mv test.txt ./java  //将test文件移动到当前目录下java文件夹内 也只会影响名字
mv test.txt ./linux/test1.txt  //这个命令是移动文件并重命名
语法：mv source destination  //source需要操作的源对象  destination要修改的文件名或者移动的目录
```

*这个命令对文件和文件夹都是可以的，只会对位置和文件名可以发生变化，对时间不会有影响的*

#### 删除文件

```
rm -i test.txt  //这个命令会删除test文件  这个命令也是可以使用通配符
rm -i te?t.txt  //会询问你匹配到所有符合条件的
```

*可以不加-i加上删除的时候回询问你是不是删除，不加则不提示，文件一但删除是找不回的*

#### 创建目录

```
mkdir test   //这个命令会创建一个test文件夹
mkdir -p test/java/java2/  //-p参数是创建多层目录 不加-p会报错
```

#### 删除目录

```
rmdir test  //这个命令删除test目录 注意：这个只可以删除空目录如果里边还有文件或文件夹是删不掉的
rm -ri test  //这个命令会递归删除test目录包括下边是存在文件或文件夹的
rm -rf test  //这个命令是强制递归删除所有文件 注意：没有提示请谨慎使用
```

#### 查看文件类型编码

```
file test.txt  //这个命令可以查看文件的编码格式
```

#### 查看文件内容

```
cat test.txt  //这个命令可以查看文件内容
```

| 参数 | 简介                 | 例子            |
| ---- | -------------------- | --------------- |
| -n   | 所有的行加上行号     | cat -n test.txt |
| -b   | 给有文本的行加上行号 | cat -b test.txt |
| -T   | 禁止制表符出现       | cat -T test.txt |

#### 查看大文件内容

```
less test.txt  //less命令可以查看大文件的内容可以进行翻页
```

#### 查看进程

```
ps   //使用这个命令可以查看所有进程
ps -ef //这个命令可以查看系统上所有运行的进程
```

| 参数  | 简介                      |
| ----- | ------------------------- |
| UID   | 启动这些进程的用户        |
| PID   | 进程的进程ID              |
| PPID  | 父进程的进程号            |
| C     | 进程生命周期中的CPU利用率 |
| STIME | 进程启动时的系统时间      |
| TTY   | 进程启动时的终端          |
| TIME  | 运行进程需要的累积cpu时间 |
| CMD   | 启动的程序名称            |

#### 实时监测进程

```
top  //这个命令可以看到实时的进程
```

| 参数    | 简介                              |
| ------- | --------------------------------- |
| PID     | 进程的ID                          |
| USER    | 进程属主的名字                    |
| PR      | 进程的优先级                      |
| NI      | 进程的谦让度值                    |
| VIRT    | 进程占用的虚拟内存总量            |
| RES     | 进程占用的物理内存总量            |
| SHR     | 进程和其他进程共享的内存总量      |
| S       | 进程的状态                        |
| %CPU    | 进程使用的CPU时间比例             |
| %MEM    | 进程使用的内存占可用内存的比例    |
| TIME+   | 自进程启动到目前为止的CPU时间总量 |
| COMMAND | 进程所对应的命令行名称            |

#### 结束进程

```
kill ID(PID)   //这个命令来结束进程
```

*kill命令可通过进程ID(PID)给进程发信号。默认情况下，kill命令会向命令行中列出的全部PID发送一个TERM信号。遗憾的是，你只能用进程的PID而不能用命令名，所以kill命令有 时并不好用 ，如果要强制终止"kill -s HUP 3940"*

#### killall命令

killall命令非常强大，它支持通过进程名而不是PID来结束进程。killall命令也支持通配符，这在系统因负载过大而变得很慢时很有用。

```
killall http*   //结束了所有以http开头的进程
```

#### 搜索数据

```
grep a test.txt  //grep命令会在输入或指定的文件中查找包含匹配指定模式的字符的行。grep的输出就是包含了				 匹配模式的行
grep a -v test.txt  //这个是进行反向搜索(输出不匹配该模式的行)，可加-v参数
grep a -n test.txt  //如果要显示匹配模式的行所在的行号，可加-n参数
grep a -c test.txt  //如果只要知道有多少行含有匹配的模式，可用-c参数
grep -e a -e c test.txt //如果要指定多个匹配模式，可用-e参数来指定每个模式
```

#### history命令

*要查看最近用过的命令列表*

```
history  //查看使用过的命令列表  通常会保存1000条命令
!!  // 可以重用最近一条命令
!编号  //可以重用列表中任意一条命令
```

#### 创建用户

```linux
useradd testuser  创建用户testuser  默认不会创建home目录
```

| 参数              | 简介                                                         |
| ----------------- | ------------------------------------------------------------ |
| -c comment        | 给新用户添加备注                                             |
| -d  home_dir      | 为主目录指定一个名字                                         |
| -e  expire_date   | 用YYYY-MM-DD格式指定一个账户过期的日期                       |
| -f  inactive_days | 指定这个账户密码过期后多少天账户被禁用;0表示密码一过期就立即禁用，1表示禁用这个功能 |
| -g  initial_group | 指定用户登录组的GID或组名                                    |
| -G group ...      | 指定用户除登录组之外所属的一个或多个附加组                   |
| -k                | 必须和-m一起使用，将/etc/skel目录的内容复制到用户的HOME目录  |
| -m                | 创建用户的HOME目录                                           |
| -M                | 不创建用户的HOME目录(当默认设置里要求创建时才使用这个选项)   |
| -n                | 创建一个与用户登录名同名的新组                               |
| -r                | 创建系统账户                                                 |
| -p passwd         | 为用户账户指定默认密码                                       |
| -s shell          | 指定默认的登录shell                                          |
| -u uid            | 为账户指定唯一的UID                                          |

#### 给创建用户设置密码

```linux
passwd testuser    //可以和上一个命令一起设置
```

#### 删除用户

```
userdel testuser   //删除testuser账户   默认情况下，userdel命令会只 删除/etc/passwd文件中的用户信					 息，而不会删除系统中属于该账户的任何文件
userdel -r testuser  //如果加上-r参数，userdel会删除用户的HOME目录以及邮件目录
```

*在有大量用户的环境中使用-r参数时要特别小心。你永远不知道用户是否在其HOME目
录下存放了其他用户或其他程序要使用的重要文件。记住，在删除用户的HOME目录之
前一定要检查清楚!*

#### 创建用户组

```
groupadd 组名  //这个命令来创建一个用户组
```

#### 向用户组添加成员

```
usermod -G 组名 用户名  //向组添加成员
```

*如果更改了已登录系统账户所属的用户组，该用户必须登出系统后再登录，组关系的更
改才能生效*

#### 修改组名

```
groupmod -n 新组名 原组名  //加上-n可以修改组名
```

#### 查看用户所属组

```
groups   //这个命令可以查看用户所属组
groups 用户名  //这个命令和上边都是可以查看 
```

#### 文件权限符

```
ls -l  //这个命令在之前有提到过 是可以查看系统上文件、目录和设备的权限
```

 输出结果的第一个字段就是描述文件和目录的权限编码，这个字段的第一个字符代表了对象的类型：

​	-：代表文件

​	d：代表目录

​	l：代表链接

​	c：代表字符型设备

​	b：代表块设备

​	n：代表网络设备

之后有3组字符的编码，每一组定义了3种访问权限：

​	r：代表对象是可读的

​	w：代表对象是可写的

​	x：代表对象是可执行的

​	*注意：如果没有某种权限，在该权限位置会出现单破折线（-）*

这三组权限分别对应对象的3个安全级别：

​	对象的属主

​	对象的属组

​	系统其它的用户

```
drwxrwxr-x  9 lan  lan     4096 Sep 19 05:11 resume/  
例如上面：
	d  代表这是一个文件夹
	rwx  代表属主有读取、写入和执行权限
	rwx  代表属组有读取、写入和执行权限
	r-x  代表其它用户有读取、执行权限，并没有写入权限
```

#### 文件权限码

| 权限 | 二进制值 | 八进制值 | 描述               |
| ---- | -------- | -------- | ------------------ |
| ---  | 000      | 0        | 没有任何权限       |
| --x  | 001      | 1        | 只有执行权限       |
| -w-  | 010      | 2        | 只有写入权限       |
| -wx  | 011      | 3        | 只有写入和执行权限 |
| r--  | 100      | 4        | 只有读取权限       |
| r-x  | 101      | 5        | 有读取和执行权限   |
| rw-  | 110      | 6        | 有读取和写入权限   |
| rwx  | 111      | 7        | 有全部权限         |

#### 更改权限

八进制模式	

```
chmod 权限码 文件   //这个命令命令用来改变文件和目录的安全性设置
chmod -R 权限码 文件  //以让权限的改变递归地作用到文件和子目录 
```

符号模式

```
[ugoa...][[+-=][rwxXstugo...]
第一组：
	u：代表用户
	g：代表组
	o：代表其他
	a：代表上述所有
第二组：
	表示你是想在现有的权限上增加权限(+)，还是在现有的权限基础上移出权限(-)，或是将权限设置成后面的值(=)
第三组：
	代表作用到设置上的权限
	x：如果对象是目录或者它已有执行权限，赋予执行权限。
	s：运行时重新设置uid或gid
	t：保留文件或目录
	u：将权限设置为跟属主一样
	g：将权限设置为跟属组一样
	o：将权限设置为跟其他用户一样
例子：chmod o+x a.txt   //给属主添加执行权限
	 chmod o-d a.txt   //给属主减去写入权限
```



​	

查看当前用户

```
w
```

查看主机上的用户

```
who
```

查看当前用户登录是谁

```
whoami
```

切换用户

```
su 用户名
```

从本地拷贝文件到服务器命令

```linux
scp -P 端口号 本地文件路径 用户名@ip:拷贝到服务器路径
```

